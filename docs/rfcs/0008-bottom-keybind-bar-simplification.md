# RFC 0008: 하단 Keybind Bar 단순화

- Status: Draft
- Author: sandbox-quant
- Date: 2026-02-18
- Related:
  - `docs/rfcs/0003-ui-transition-to-multi-asset-multi-strategy.md`
  - `docs/rfcs/0006-focus-view-necessity.md`

## 1. 문제 정의

현재 하단 Keybind Bar는 항목 수가 많아 한 줄이 과밀하다.

- 초보 사용자는 핵심 조작보다 모든 키를 동시에 읽어야 해서 진입 장벽이 높다.
- 터미널 폭이 좁을 때 문구가 잘리면서 오히려 정보 전달이 떨어진다.
- 기능 중복 키(`G`/`F` 둘 다 grid open 등)가 그대로 노출되어 시각적 노이즈를 만든다.

## 2. 목표

- 하단 바를 한눈에 읽히는 밀도로 축소
- 실제 사용 빈도가 높은 핵심 키 우선 노출
- 문맥(일반 화면 vs Grid/Popup)에 따라 필요한 키만 표시

## 3. 비목표

- 키맵 자체를 전면 변경하지 않는다.
- 기존 키 입력 호환성을 깨지 않는다(표시만 단순화 가능).

## 4. 제안

### 4.1 표시 계층화

1. 기본(항상 노출) 키만 표시
- `Q` quit
- `P/R` pause/resume
- `B/S` manual buy/sell
- `G` grid
- `Tab` panel (grid 열려 있을 때만)

2. 보조 키는 축약 표기로 이동
- 기존 `0/1/H/D/W/M`는 개별 문구 나열 대신 `TF: 0/1/H/D/W/M`
- 기존 `T/Y/A/I`는 `More: T/Y/A/I` 형태로 축약

3. 중복 키 노출 정리
- `G`/`F`가 같은 동작이면 하단 바에는 하나만 노출(`G` 권장)
- 상세 문서는 `README`/도움말 팝업으로 유지

### 4.2 문맥형 Keybind Bar

- 일반 화면:
  - `Q | P/R | B/S | G | TF: 0/1/H/D/W/M | More: T/Y/A/I`
- Grid 화면:
  - `Q | Tab(panel) | J/K(select) | O(toggle) | X(delete) | N(new) | C(config) | Enter(run) | Esc(close)`

## 5. UX 가이드

- 1차 목표는 “한 줄에서 끊김 없이 읽기”
- 긴 설명 문장은 제거하고 동사 1단어 중심으로 표기
- 시각 구분자(`|`)를 균일하게 유지

## 6. 구현 단계

1. 하단 바 문자열을 화면 모드별 템플릿으로 분리
2. 일반/그리드/팝업 상태에서 각 템플릿 선택 렌더
3. 중복 키(`F`) 노출 제거(동작은 유지)
4. 폭이 좁은 터미널에서 축약형 우선 렌더

## 7. 수용 기준

- 기본 폭(120 cols)에서 하단 바가 잘리지 않는다.
- Grid 열림 상태에서 필요한 조작 키만 노출된다.
- 기능은 기존과 동일하게 동작한다(표시 변경으로 회귀 없음).
- 사용자 피드백 기준 “가독성 개선” 확인.

## 8. 리스크 및 완화

- 리스크: 키 노출 축소로 기능 발견성 저하
  - 완화: `More` 축약 및 도움말 팝업 유지
- 리스크: 모드 전환 시 안내 변경으로 혼란
  - 완화: 상태 제목(예: `Grid`)과 함께 일관된 문구 사용
